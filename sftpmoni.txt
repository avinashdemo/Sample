Hi Shrutika/Somil/Kelly,

We have the following recurring issue which needs to be addressed on priority.

Issue: Controlm jobs fail due to unavailability of files in inbound sftp location.

Issue1: Prod Support guys need to raise an unnecessary IN to get PAR, just to check availability of file before running the controlm job again, as production readonly accounts do not have access to sftp paths.

Issue2: If incorrect controlm file watcher job got Force OK'd, then the respective valuation file gets stuck in the inbound path without getting processed or monitored.

Unsuccessful solutions: The below solutions were tried to resolve the fairst issue

1. Include all the readonly production accounts in secondary group of dslprod in order to have readonly access to all sftp paths.

2. Include geneos user in dslprod sudoers list. But this gives dslprod access to geneos user.

3. Using ACL


Proposed Solution: Analyse the SLA of all the valuation files and configure their respective controlm jobs to run in cyclic mode until sometime before the SLA breach.

But this requires thorough analysis of over thousand files, which cannot be done soon.

My simple solution: I am thinking to go with the below approach to resolve both the issues 1 and 2

1. Create a script (which uses a simple find command) to extract all the files present in all the inbound sftp paths. Redirect the result into an output file.

2. Setup a cyclic controlm job (to run every hour) to execute the above script and update the output file

3. Setup geneos monitoring on this output file. 


Please let me know your thoughts on this approach.
